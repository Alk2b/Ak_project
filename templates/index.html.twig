{% extends 'base.html.twig' %}

{% block title %}Accueil - Video Game Platform{% endblock %}

{% block body %}
    <div class="hero">
        <section style="padding-left: 2rem; padding-right: 2rem;">
            <h1>Bienvenue sur Video Game Platform</h1>
            <p>Découvrez, achetez et jouez aux meilleurs jeux vidéo !</p>
        </section>
    </div>

    <section style="padding-left: 2rem; padding-right: 2rem;">
        <h2 style="text-align: center; margin-bottom: 2rem;">En vedette</h2>
        <div class="carousel" style="width: 100%; max-width: 900px; margin: 2rem auto 0 auto; position: relative;">
            {% for game in featured_games %}
                <div class="carousel-item" id="slide{{ loop.index }}" style="position: absolute; top: 0; left: 0; width: 100%; height: 350px; display: {% if loop.first %}block{% else %}none{% endif %}; transition: opacity 0.7s; border-radius: 16px; overflow: hidden;">
                    <img src="{{ game.image }}" alt="{{ game.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                    <div style="position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); display: flex; justify-content: space-between; align-items: center; padding: 0 2rem;">
                        <button class="carousel-btn" data-carousel-prev style="font-size: 2.5rem; background: transparent; color: #111; border: none; box-shadow: none; border-radius: 0; width: auto; height: auto; cursor: pointer; padding: 0 0.5rem; display: flex; align-items: center; justify-content: center;">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 8L12 16L20 24" stroke="#111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div style="background: rgba(34,34,34,0.7); color: #fff; padding: 1.5rem 2rem; border-radius: 12px; min-width: 320px; max-width: 480px; text-align: left;">
                            <h3 style="margin: 0 0 0.5rem 0; font-size: 1.5rem; font-weight: bold;">{{ game.title }}</h3>
                            <p style="margin: 0 0 1rem 0;">{{ game.description|slice(0, 120) ~ (game.description|length > 120 ? '...' : '') }}</p>
                            <div style="font-size: 1.2rem; color: #4CAF50; font-weight: bold; margin-bottom: 0.5rem;">{{ game.price|number_format(2, ',', ' ') }} €</div>
                            <a href="{{ path('app_shop') }}" class="btn btn-success">Découvrir</a>
                        </div>
                        <button class="carousel-btn" data-carousel-next style="font-size: 2.5rem; background: transparent; color: #111; border: none; box-shadow: none; border-radius: 0; width: auto; height: auto; cursor: pointer; padding: 0 0.5rem; display: flex; align-items: center; justify-content: center;">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 8L20 16L12 24" stroke="#111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}
